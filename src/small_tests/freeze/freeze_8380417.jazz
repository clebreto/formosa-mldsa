require "../reduce32/reduce32_8380417.jazz"
require "../caddq/caddq.jazz"

/*
int32_t freeze(int32_t a) {
    a = reduce32(a);
    a = caddq(a);
    return a;
}
*/

/*************************************************
* Name:        PQCLEAN_DILITHIUM5_CLEAN_freeze
*
* Description: For finite field element a, compute standard
*              representative r = a mod^+ Q.
*
* Arguments:   - int32_t: finite field element a
*
* Returns r.
**************************************************/
inline fn __freeze(reg u32 a) -> reg u32
{
  reg u32 t res;

  t = __reduce32_8380417(a);
  res = __caddq_v0(t); // TODO: change to the fastest implementation

  return res;
}


export fn freeze_8380417_jazz(reg u32 a) -> reg u32
{
  reg u32 r;

  r = __freeze(a);

  r = r;
  return r;
}


